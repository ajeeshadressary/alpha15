"use strict";

var _parseFilepath = require("parse-filepath");

var _parseFilepath2 = _interopRequireDefault(_parseFilepath);

var _path = require("path");

var _path2 = _interopRequireDefault(_path);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = function (basePath, filePath) {
  var relativePath = _path2.default.relative(basePath, filePath);
  var parsedPath = (0, _parseFilepath2.default)(relativePath);
  var dirname = parsedPath.dirname;
  var name = parsedPath.name;

  if (name === `index`) {
    name = ``;
  }

  // Use path.posix to force forward slash paths. Otherwise on windows
  // node.js will add backward slashes.
  var pagePath = _path2.default.posix.join(`/`, dirname, name, `/`);

  return pagePath;
};