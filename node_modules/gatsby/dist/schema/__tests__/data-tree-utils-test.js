"use strict";

var _require = require("../data-tree-utils"),
    extractFieldExamples = _require.extractFieldExamples,
    buildFieldEnumValues = _require.buildFieldEnumValues;

describe(`Gatsby data tree utils`, function () {
  var nodes = [{
    name: `The Mad Max`,
    hair: 1,
    date: `2006-07-22T22:39:53.000Z`,
    anArray: [1, 2, 3, 4],
    frontmatter: {
      date: `2006-07-22T22:39:53.000Z`,
      title: `The world of dash and adventure`,
      blue: 100
    }
  }, {
    name: `The Mad Wax`,
    hair: 2,
    date: `2006-07-22T22:39:53.000Z`,
    anArray: [1, 2, 5, 4],
    iAmNull: null,
    frontmatter: {
      date: `2006-07-22T22:39:53.000Z`,
      title: `The world of slash and adventure`,
      blue: 10010,
      circle: `happy`,
      draft: false
    }
  }];

  it(`builds field examples from an array of nodes`, function () {
    expect(extractFieldExamples({ nodes })).toMatchSnapshot();
  });

  it(`ignores fields that have a null value`, function () {
    expect(extractFieldExamples({ nodes }).iAmNull).not.toBeDefined();
  });

  it(`build enum values for fields from array on nodes`, function () {
    expect(buildFieldEnumValues(nodes)).toMatchSnapshot();
  });
});